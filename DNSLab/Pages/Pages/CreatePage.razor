@page "/Page/Create"
@inject IPageRepository _PageRepository
@inject NavigationManager _navManager
@inject ToastService toastService

<PageGeneratorForm page=page OnValidSubmit=Create Title="ایجاد صفحه جدید"></PageGeneratorForm>
@code {
   

    private PageDTO page { get; set; } = new PageDTO
        {
            URL = String.Empty,
            Title = String.Empty,
            Description = String.Empty,
            Keywords = new string[] { "asd", "def" },
            Body = String.Empty,
        };

    public async Task Create()
    {
        if (await _PageRepository.AddNewPage(page))
        {
            _navManager.NavigateTo("Page/MyPages");
            toastService.ShowToast("PageCreated", Enums.ToastLevel.Success);
        }
    }
}
