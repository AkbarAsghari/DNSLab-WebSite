@page "/settings/profile"

@inject IAccountRepository accountRepository
@inject ToastService toastService
@inject IStringLocalizer<Resource> localizer

@attribute [Authorize]

@if (userInfo == null)
{
    <Loading />
}
else
{
    <MudText Typo="Typo.h3">اطلاعات پروفایل</MudText>
    <MudGrid>
        <MudItem md="3">
            <UserProfileImage Size=200></UserProfileImage>
        </MudItem>
        <MudItem md="9">
            <MudTextField Label="@localizer["FirstName"]" Placeholder="@localizer["YourFirstName"]" @bind-Value="@userInfo.FirstName"></MudTextField>
            <MudTextField Label="@localizer["LastName"]" Placeholder="@localizer["YourLastName"]" @bind-Value="@userInfo.LastName"></MudTextField>
            <MudTextField Label="@localizer["Company"]" Placeholder="@localizer["Company"]" @bind-Value="@userInfo.Company"></MudTextField>
            <MudTextField Label="@localizer["PhoneNumber"]" Placeholder="@localizer["YourPhoneNumber"]" @bind-Value="@userInfo.Mobile"></MudTextField>
        </MudItem>
    </MudGrid>
    <MudDivider Class="mt-2" DividerType="DividerType.Inset" />
    <BaseButtonComponent Caption=@localizer["SaveChanges"]
                     IsBussyCaption=@localizer["Progressing"]
                     Color=Color.Primary
                     Icon=@Icons.Material.Filled.Save
                     OnClick="SaveChanges"></BaseButtonComponent>
}