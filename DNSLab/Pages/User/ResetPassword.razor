@page "/user/ResetPassword/{Token}"

@inject IStringLocalizer<Resource> localizer
@inject IAccountRepository accountReository

<MudContainer MaxWidth="MaxWidth.ExtraSmall">
    @if (isPasswordChanged)
    {
        <MudAlert Severity="Severity.Success" ContentAlignment="HorizontalAlignment.Start">
            <MudText>رمز عبور شما با موفقیت تغییر کرد.</MudText>
        </MudAlert>
        <BaseNavigateButtonComponent Href="user/auth" Text="بازگشت به صفحه ورود" Icon="@Icons.Material.Filled.Login"></BaseNavigateButtonComponent>
    }
    else
    {
        <EditForm class="container-sm mt-4 col-lg-4" Model=resetPassword Context=ResetPasswordContext>
            <MudText Typo="Typo.h3">تغییر رمز عبور</MudText>
            <MudTextField Label="رمز عبور جدید را وارد نمایید" Class="mud-ltr" InputType="InputType.Password" Placeholder="رمز عبور" @bind-Value="@resetPassword.Password" />
            <MudDivider Class="mt-2" DividerType="DividerType.Inset" />
            <BaseButtonComponent Caption=@localizer["SaveChanges"]
                             IsBussyCaption=@localizer["Loading"]
                             Color=Color.Primary
                             Icon=@Icons.Material.Filled.Save
                             EditContext=ResetPasswordContext
                             OnClick=ResetUserPassword></BaseButtonComponent>
        </EditForm>
    }
</MudContainer>

