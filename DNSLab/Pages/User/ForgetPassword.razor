@page "/user/ForgetPassword"

@inject IStringLocalizer<Resource> localizer
@inject IAccountRepository accountReository

<MudContainer MaxWidth="MaxWidth.ExtraSmall">
    @if (isForgetPasswordLinkSent)
    {
        <MudAlert Severity="Severity.Success" ContentAlignment="HorizontalAlignment.Start">
            <MudText>لینک تنظیم مجدد رمز عبور به ایمیل <strong>@forgetPassword.Email</strong> ارسال گردید. لطفا ایمیل خود را بررسی فرمایید.</MudText>
        </MudAlert>
    }
    else
    {
        <EditForm Model=forgetPassword Context=ForgetPasswordContext>
            <DataAnnotationsValidator />
            <MudText Typo="Typo.h3">فراموشی رمز عبور</MudText>
            <MudTextField Label="آدرس ایمیل حساب کاربری" Class="dir-ltr" Placeholder="ایمیل" @bind-Value="@forgetPassword.Email" />
            <MudDivider Class="mt-2" DividerType="DividerType.Inset" />
            <BaseButtonComponent Caption=@localizer["Send"]
                             IsBussyCaption=@localizer["Loading"]
                             Color=Color.Primary
                             Icon=@Icons.Material.Filled.Send
                             EditContext=ForgetPasswordContext
                             OnClick=SendForgetPasswordLink></BaseButtonComponent>
        </EditForm>
    }
</MudContainer>