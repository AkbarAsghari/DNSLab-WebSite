@page "/user/ForgetPassword"

@inject IStringLocalizer<Resource> localizer
@inject IAccountRepository accountReository

<MudContainer MaxWidth="MaxWidth.ExtraSmall">
    
        <EditForm Model=forgetPassword Context=ForgetPasswordContext>
            <MudCard>
                <MudCardHeader>
                    <MudText Typo="Typo.h1">فراموشی رمز عبور</MudText>
                </MudCardHeader>
                    @if (isForgetPasswordLinkSent)
    {
                <MudCardContent>
        <MudAlert Severity="Severity.Success" ContentAlignment="HorizontalAlignment.Start">
            <MudText>لینک تنظیم مجدد رمز عبور به ایمیل <strong>@forgetPassword.Email</strong> ارسال گردید. لطفا ایمیل خود را
                بررسی فرمایید.</MudText>
        </MudAlert>
                </MudCardContent>
    }
    else
    {
                <MudCardContent>
                    <DataAnnotationsValidator />
                    <MudTextField Label="آدرس ایمیل حساب کاربری" Class="mud-ltr" Placeholder="ایمیل"
                    @bind-Value="@forgetPassword.Email" />
                </MudCardContent>
            <MudCardActions>
                <BaseButtonComponent Caption=@localizer["Send"] IsBussyCaption=@localizer["Loading"] Color=Color.Primary
                    Icon=@Icons.Material.Filled.Send EditContext=ForgetPasswordContext OnClick=SendForgetPasswordLink>
                </BaseButtonComponent>
            </MudCardActions>
    }
            </MudCard>
        </EditForm>
    </MudContainer>