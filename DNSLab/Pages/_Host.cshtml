@page "/"
@namespace DNSLab.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using System.Globalization
@using DNSLab.Shared
@using Microsoft.AspNetCore.Localization

@{
    Layout = "_Layout";
    this.HttpContext.Response.Cookies.Append(
        CookieRequestCultureProvider.DefaultCookieName,
        CookieRequestCultureProvider.MakeCookieValue(
            new RequestCulture(
                CultureInfo.CurrentCulture,
                CultureInfo.CurrentUICulture)));
}

@if (HttpContext.Request.Path.ToString() == "/" ||
HttpContext.Request.Path.ToString() == "//" ||
HttpContext.Request.Path.ToString().ToLower().Contains("api") ||
HttpContext.Request.Path.ToString().ToLower().Contains("support") ||
HttpContext.Request.Path.ToString().ToLower().Contains("about") ||
HttpContext.Request.Path.ToString().ToLower().Contains("article"))
{
    <component type="typeof(AppNoAuth)" render-mode="ServerPrerendered" />
}
else
{
    <component type="typeof(App)" render-mode="Server" />
}
