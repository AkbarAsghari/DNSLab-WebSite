@page "/Transaction/Tip"
@using DNSLab.DTOs.Transactions

@inject NavigationManager navigationManager
@inject IStringLocalizer<Resource> localizer
@inject ITransactionRepository _TransactionRepository

<MudContainer MaxWidth="MaxWidth.ExtraSmall" Class="mb-3">
    <EditForm Model=TipTransaction Context="TipCtx">
        <DataAnnotationsValidator />
        <MudText Typo="Typo.h3">حمایت از دی‌ان‌اس لب</MudText>
        <MudTextField Label="نام و نام خانوادگی" Placeholder="نام و نام خانوادگی (اختیاری)" @bind-Value="TipTransaction.FullName" />
        <MudTextField Label="تلفن همراه" Class="dir-ltr" Placeholder="تلفن همراه 09123456789 (اختیاری)" @bind-Value="TipTransaction.Mobile" />
        <MudSelect Label="مقدار حمایت" @bind-Value="@selectedAmountType">
            @foreach (var item in AmountTypes)
            {
                <MudSelectItem Value="item.Key">@item.Value</MudSelectItem>
            }
        </MudSelect>
        @if (@selectedAmountType == "0")
        {
            <MudTextField Label="مبلغ" Class="dir-ltr" Placeholder="مبلغ دلخواه (تومان)" @bind-Value="Amount" />
        }
        <MudDivider Class="py-3" />
        <BaseButtonComponent Caption=@localizer["Continue"]
                             IsBussyCaption=@localizer["Loading"]
                             Color=Color.Primary
                             Icon=@Icons.Material.Filled.Favorite
                             EditContext=TipCtx
                             OnClick=Go></BaseButtonComponent>
        <BaseNavigateButtonComponent Href="/"
                                     Text="@localizer["Cancel"]"
                                     Color="Color.Secondary"
                                     Icon=@Icons.Material.Filled.Cancel>
        </BaseNavigateButtonComponent>
    </EditForm>
</MudContainer>
<OurSupporters />
