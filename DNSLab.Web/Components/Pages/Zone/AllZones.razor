@using DNSLab.Web.DTOs.Repositories.Zone
@attribute [Route(AllRoutes.AllZones)]

<MudText Typo="Typo.h2">Zone ها</MudText>
<MudStack Row Justify="Justify.FlexEnd">
    <BaseButton Variant="Variant.Filled" Size="Size.Small" Color="Color.Primary" OnClick="NewZone">اضافه کردن Zone</BaseButton>
</MudStack>
<MudDataGrid @ref="_DataGrid" T="ZoneDTO" ServerData="ServerReload" Dense Hover Bordered>
    <Columns>
        <PropertyColumn Property="x=>x.Name" Title="Zone" />
        <TemplateColumn Title="نوع">
            <CellTemplate>
                <MudAlert Severity="Severity.Info" Variant="Variant.Filled" NoIcon Dense ContentAlignment="HorizontalAlignment.Center">
                    <MudText Typo="Typo.caption">Primary</MudText>
                </MudAlert>
            </CellTemplate>
        </TemplateColumn>
        <TemplateColumn Title="وضعیت">
            <CellTemplate>
                <MudAlert Severity="@(context.Item.Disable ? Severity.Warning : Severity.Success)" Variant="Variant.Filled" NoIcon Dense ContentAlignment="HorizontalAlignment.Center">
                    <MudText Typo="Typo.caption">@(context.Item.Disable ? "غیر فعال" : "فعال")</MudText>
                </MudAlert>
            </CellTemplate>
        </TemplateColumn>
        <TemplateColumn>
            <CellTemplate>
                <MudStack Row Justify="Justify.FlexEnd">
                    <MudMenu Dense Size="Size.Small" Icon="@Icons.Material.Filled.MoreVert" DropShadow AnchorOrigin="Origin.TopLeft">
                        <MudMenuItem OnClick="() => EditZone(context.Item)">ویرایش Zone</MudMenuItem>
                        <MudMenuItem OnClick="() => DisableZone(context.Item)">@(context.Item.Disable ? "فعال سازی" : "غیر فعال سازی")</MudMenuItem>
                        <MudMenuItem Disabled />
                        <MudMenuItem OnClick="() => DeleteZone(context.Item)" IconColor="Color.Error" IconSize="Size.Small" Icon="@Icons.Material.Filled.Delete">
                            <MudText Color="Color.Error" Typo="Typo.caption">حذف</MudText>
                        </MudMenuItem>
                    </MudMenu>
                </MudStack>
            </CellTemplate>
        </TemplateColumn>
    </Columns>
</MudDataGrid>