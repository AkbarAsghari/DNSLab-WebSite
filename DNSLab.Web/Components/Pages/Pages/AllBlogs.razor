@attribute [Route(AllRoutes.AllBlogs)]

<MudCard Outlined>
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h5">بلاگ</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent>
        @if (_Pages != null)
        {
            <MudGrid Spacing="1">
                @foreach (var item in _Pages.OrderByDescending(x => x.PublishDate))
                {
                    <MudItem xs="12">
                        <MudLink Href="@($"{AllRoutes.Blog}/{@item.URL}")" Underline="Underline.None">
                            <MudCard Outlined>
                                <MudCardHeader>
                                    <CardHeaderAvatar>
                                        <MudButton Size="Size.Large" Color="Color.Surface" Variant="Variant.Filled">@item.Title.Substring(0, 1)</MudButton>
                                    </CardHeaderAvatar>
                                    <CardHeaderContent>
                                        <MudText>@item.Title</MudText>
                                    </CardHeaderContent>
                                    <CardHeaderActions>
                                        <MudStack Spacing="0">
                                            <MudStack Row Spacing="1">
                                                <MudIcon Icon="@Icons.Material.Rounded.AccountBox" Size="Size.Small" />
                                                <MudText Typo="Typo.caption">@item.User.FullName</MudText>
                                            </MudStack>
                                            <MudStack Row Spacing="1">
                                                <MudIcon Icon="@Icons.Material.Rounded.CalendarMonth" Size="Size.Small" />
                                                <MudText Typo="Typo.caption">@item.CreateDate.ToPersianDateTime()</MudText>
                                            </MudStack>
                                            <MudStack Row Spacing="1">
                                                <MudIcon Icon="@Icons.Material.Rounded.Visibility" Size="Size.Small" />
                                                <MudText Typo="Typo.caption">@item.VisitCount</MudText>
                                            </MudStack>
                                        </MudStack>
                                    </CardHeaderActions>
                                </MudCardHeader>
                                <MudCardContent>
                                    <MudText Typo="Typo.caption">@item.Description</MudText>
                                </MudCardContent>
                            </MudCard>
                        </MudLink>
                    </MudItem>
                }
            </MudGrid>
        }
    </MudCardContent>
</MudCard>